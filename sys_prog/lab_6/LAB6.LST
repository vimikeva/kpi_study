Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-1


				.386 
				;		–ú–û–î–ï–õ–¨ –ú–£–õ–¨–¢–ò–ü–†–û
				–ì–†–ê–ú–ù–û–á –°–ò–°–¢–ï–ú–ò 
				;==============================================
				======== 
 = 000A				max_prg		equ	10		;–º–∞–∫
				—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å "–æ–¥–Ω–æ—á
				–∞—Å–Ω–æ" 
									; –≤–∏–
				∫–æ–Ω—É–≤–∞–Ω–∏—Ö  –∑–∞–¥–∞—á 
 = 1000				time_slice	equ	4096		; –∫—ñ–
				ª—å–∫—ñ—Å—Ç—å –º—ñ–∫—Ä–æ—Å–µ–∫—É–Ω–¥, –≤–∏–¥—ñ–
				ª–µ–Ω–∏—Ö –Ω–∞ –æ–¥–∏–Ω 
									; –∫–≤–
				∞–Ω—Ç —á–∞—Å—É (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–Ω–∞—á
				–µ–Ω–Ω—è 65535) 
				;----------------------------------------------
				-----------------------------------------------
				-------------- 
 0000				_ST	SEGMENT	WORD STACK 'stack' use16 
 0000  7D00[				dw	32000 dup (?) 
	   ????			
			 ]	
				
 FA00				 top	label	word 
 FA00  0064[				dw	100 dup (?)		; —Ä–µ–
				∑–µ—Ä–≤ –¥–ª—è –ø–æ–º–∏–ª–æ–∫ 
	   ????			
			 ]	
				
				        				; –∞–Ω—
				Ç–∏ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è —Å—Ç–µ–∫–∞ 
 FAC8				_ST	ENDS 
				;----------------------------------------------
				-----------------------------------------------
				-------------- 
 0000				_DATA	SEGMENT	WORD PUBLIC 'DATA' use16 
				 
 0000  ????????			 @ms_dos_busy	dd	?		; –ª–æ–
				≥—ñ—á–Ω–∞ –∞–¥—Ä–µ—Å–∞ –æ–∑–Ω–∞–∫–∏ –∑–∞–π–Ω—è—
				Ç–æ—Å—Ç—ñ MS-DOS 
				 
 0004  00			 int8set	db	0		;–æ–∑–Ω
				–∞–∫–∞ –ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è –ø–µ—Ä–µ—Ä–∏–≤–
				∞–Ω–Ω—è –≤—ñ–¥ —Ç–∞–π–º–µ—Ä–∞ 
 0005  00			 int9set	db	0		;–æ–∑–Ω
				–∞–∫–∞ –ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è –ø–µ—Ä–µ—Ä–∏–≤–
				∞–Ω–Ω—è –≤—ñ–¥ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ 
				 
 =				 fon		equ	max_prg		; –æ–∑–
				Ω–∞–∫–∞ —Ñ–æ–Ω–æ–≤–æ—ó –∑–∞–¥–∞—á—ñ 
 0006				 fonsp		label	word		;–∞–¥—Ä
				–µ—Å–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è SP —Ñ–æ–Ω–æ–≤–æ—ó –
				∑–∞–¥–∞—á—ñ 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-2


 0006  FA00 ---- R		 sssp		dd	top  		;–ª–æ–≥
				—ñ—á–Ω–∞ –∞–¥—Ä–µ—Å–∞ —Å—Ç–µ–∫–∞ —Ñ–æ–Ω–æ–≤–æ—ó
				 –∑–∞–¥–∞—á—ñ 
				 
				; –º–∞—Å–∏–≤ –∑–Ω–∞—á–µ–Ω—å SP –¥–ª—è –∑–∞–¥–∞—
				á, (–¥–ª—è —Å—Ç–µ–∫–∞ –∫–æ–∂–Ω–æ—ó –∑–∞–¥–∞—á—ñ
				 –≤—ñ–¥–≤–µ–¥–µ–Ω–æ 1000 —Å–ª—ñ–≤) 
				; –∑–∞–¥–∞–Ω—ñ –ø–æ—á–∞—Ç–∫–æ–≤—ñ –∑–Ω–∞—á–µ–Ω–
				Ω—è  
 000A  03E8 07D0 0BB8 0FA0	 stp		dw	1000,  2000,  3000,  40
				00 
 0012  1388 1770 1B58 1F40			dw	5000,  6000,  7000,  80
				00 
 001A  2328 2710 2AF8 2EE0			dw	9000,  10000, 11000, 12
				000 
 0022  32C8 36B0 3A98 3E80			dw	13000, 14000, 15000, 16
				000 
				 
 002A  0000			 nprg		dw	0		;–Ω–æ–º
				–µ—Ä –∞–∫—Ç–∏–≤–Ω–æ—ó –∑–∞–¥–∞—á—ñ (–≤—ñ–¥ 0 –¥
				–æ max_prg-1) 
									; –∞–±–
				æ –æ–∑–Ω–∞–∫–∞ —Ñ–æ–Ω–æ–≤–æ—ó –∑–∞–¥–∞—á—ñ (fon
				) 
				 
				; –º–∞—Å–∏–≤ —Å—Ç–∞–Ω—É –∑–∞–¥–∞—á 
 002C  0010[			 init		db	16 dup (0) 
	   00			
			 ]	
				
				 
				; –º–∞—Å–∏–≤ –¥–æ–∑–≤–æ–ª–µ–Ω–æ–≥–æ —á–∏—Å–ª–∞ 
				–∫–≤–∞–Ω—Ç—ñ–≤ –∑–∞–¥–∞—á 
 003C  0010[			 clock		db	16 dup (1) 
	   01			
			 ]	
				
				 
				; –º–∞—Å–∏–≤ –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤ –∫–≤–∞–Ω—Ç—
				ñ–≤ –∑–∞–¥–∞—á 
 004C  0010[			 clockt		db	16 dup (0) 
	   00			
			 ]	
				
				 
 005C  0010[			 screen_addr	dw	16 dup (0)	; –∞–¥—
				Ä–µ—Å–∞ (–∑–º—ñ—â–µ–Ω–Ω—è –≤—ñ–¥ –ø–æ—á–∞—Ç–∫—É
				 –≤—ñ–¥–µ–æ—Å—Ç–æ—Ä—ñ–Ω–∫–∏) 
	   0000			
			 ]	
				
									; –æ–±–
				ª–∞—Å—Ç—ñ –≤–≤–µ–¥–µ–Ω–Ω—è –Ω–∞ –µ–∫—Ä–∞–Ω –∑–Ω
				–∞—á–µ–Ω—å –∑–∞–¥–∞—á—ñ 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-3


				 
				; –º–∞—Å–∏–≤ —ñ–º–µ–Ω –∑–∞–¥–∞—á 
 007C				 names		label	word 
 007C  30 54 31 54 32 54 33			db	'0T1T2T3T4T5T6T7T8T9TAT
				BTCTDTETFT' 
       54 34 54 35 54 36 54	
       37 54 38 54 39 54 41	
       54 42 54 43 54 44 54	
       45 54 46 54		
				 
 009C  0000			 clk		dw	0		;–ª—ñ—á
				–∏–ª—å–Ω–∏–∫ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω—å –≤—ñ–¥ —Ç–∞–π
				–º–µ—Ä–∞  
				 
 009E  00			 iter		db	0		 
				 
 009F				_DATA         ENDS 
				;----------------------------------------------
				-----------------------------------------------
				-------------- 
 0000				_TEXT	SEGMENT	BYTE PUBLIC 'CODE' use16 
					ASSUME	CS:_TEXT, DS:_DATA 
				 
				;----------------------------------------------
				-------------- 
				; –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ "–ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è"
				 –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ —Ç–∞–π–º–µ—Ä–∞ (
				int8) 
				;----------------------------------------------
				-------------- 
 0000				setint8	PROC 
 0000  A0 0004 R			mov	al,int8set 
 0003  0A C0				or	al,al    	    	; –∫–æ–
				Ω—Ç—Ä–æ–ª—å "–ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è" –ø–µ—Ä–µ
				—Ö–æ–ø–ª–µ–Ω—å 
 0005  0F 85 0037 R			jnz	zero_8 
 0009  B4 35				MOV	AH,35H          	; –æ—Ç—
				Ä–∏–º–∞—Ç–∏ –≤–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è
				 
 000B  B0 08				MOV	AL,8     	    	; –ø–µ—
				Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ —Ç–∞–π–º–µ—Ä–∞ (8) 
 000D  CD 21				INT	21H                 	; –∑–Ω–
				∞—á–µ–Ω–Ω—è —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è: 
									; es:bx
				 - –ª–æ–≥—ñ—á–Ω–∞ –∞–¥—Ä–µ—Å–∞ —Å–∏—Å—Ç–µ–º–Ω–æ
				—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ 
									; –æ–±—
				Ä–æ–±–∫–∏ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ —Ç–∞–π–
				º–µ—Ä–∞ 
				 
 000F  2E: 89 1E 0038 R			mov	cs:int8ptr,bx    	; –∑–±–
				µ—Ä–µ–≥—Ç–∏ –ª–æ–≥—ñ—á–Ω—É –∞–¥—Ä–µ—Å—É —Å–∏—Å—
				Ç–µ–º–Ω–æ—ó 
 0014  2E: 8C 06 003A R			mov	cs:int8ptr+2,es  	; –ø—Ä–
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-4


				æ—Ü–µ–¥—É—Ä–∏ –≤ —Å–µ–≥–º–µ–Ω—Ç—ñ –∫–æ–¥—ñ–≤ 
				 
 0019  BA 014C R			mov	dx,offset userint8	; —Ñ–æ—
				Ä–º—É–≤–∞–Ω–Ω—è –≤ ds:dx –ª–æ–≥—ñ—á–Ω–æ—ó 
 001C  1E				push	ds			; –∞–¥—
				Ä–µ—Å–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
				–∞ 
 001D  0E				push	cs			; –¥–ª—
				è –æ–±—Ä–æ–±–∫–∏ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω—å –≤—ñ–¥ —Ç
				–∞–π–º–µ—Ä–∞ 
 001E  1F				pop	ds 
				 
 001F  B4 25				MOV	AH,25H    		; –≤—Å—
				Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤–µ–∫—Ç–æ—Ä 
 0021  B0 08				MOV	AL,8         		; –ø–µ—
				Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ —Ç–∞–π–º–µ—Ä–∞ 
 0023  CD 21				INT	21H           		; ds:dx
				 - –ø–æ–∫–∞–∂—á–∏–∫ –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å
				–∫—É 
									; –ø—Ä–
				æ—Ü–µ–¥—É—Ä—É –æ–±—Ä–æ–±. –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—
				è –≤—ñ–¥ ;—Ç–∞–π–º–µ—Ä–∞ 
				 
				 
 0025  B8 1000				mov	ax,time_slice       	; –≤—Å—
				Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–¥–∞–Ω—É –≤–µ–ª–∏—á–∏–Ω—É –
				∫–≤–∞–Ω—Ç—É —á–∞—Å—É 
 0028  E6 40				out	40h,al			; 40h -
				 –∞–¥—Ä–µ—Å–∞ 8-—Ä–æ–∑—Ä—è–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞
				 —Ç–∞–π–º–µ—Ä–∞,  
									; —á–µ—
				Ä–µ–∑ —è–∫–∏–π –∑–∞–¥–∞—é—Ç—å –ø–µ—Ä—ñ–æ–¥ —Ç–∞
				–π–º–µ—Ä–∞  
									; —Å–ø–
				æ—á–∞—Ç–∫—É –º–æ–ª–æ–¥—à–∏–π –±–∞–π—Ç, –∞ –ø–æ—
				Ç—ñ–º —Å—Ç–∞—Ä—à–∏–π 
				 
 002A  EB 00				jmp	$+2			; —Å—Ç–
				∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –º–µ—Ç–æ–¥ —É–∑–≥–æ–¥–∂–µ–Ω–Ω
				—è —à–≤–∏–¥–∫—ñ—Å–Ω–æ–≥–æ 
									; –ø—Ä–
				æ—Ü–µ—Å–æ—Ä–∞ –∑ –±—ñ–ª—å—à –ø–æ–≤—ñ–ª—å–Ω–∏–º 
				–∑–æ–≤–Ω—ñ—à–Ω—ñ–º 
									; –ø—Ä–
				∏—Å—Ç—Ä–æ—î–º. –ü—Ä–∏–ø—É—Å–∫–∞—î–º–æ, —â–æ 
									; "–±–µ
				–∑–≥–ª—É–∑–¥–∞" –∫–æ–º–∞–Ω–¥–∞ jmp –æ—á–∏—â—É—î
				 –±—É—Ñ–µ—Ä 
									; –ø–æ–
				ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–∏–±—ñ—Ä–∫–∏ –∫–æ–º–∞–Ω–¥ —
				ñ, —Ç–∏–º —Å–∞–º–∏–º, 
									; —É–ø–
				æ–≤—ñ–ª—å–Ω—é—î —Ä–æ–±–æ—Ç—É –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞
				. –¢–∏–º —á–∞—Å–æ–º 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-5


									; –∑–æ–
				≤–Ω—ñ—à–Ω—ñ–π –ø—Ä–∏—Å—Ç—Ä—ñ–π –±—É–¥–µ –≥–æ—Ç–
				æ–≤–∏–π  
									; –ø—Ä–
				∏–π–Ω—è—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –±–∞–π—Ç 
 002C  90				nop 
				 
 002D  8A C4				mov	al,ah			; (—Å—Ç
				–∞—Ä—à–∏–π –±–∞–π—Ç) 
 002F  E6 40			       	out	40h,al 
				 
 0031  1F				pop	ds 
				 
 0032  C6 06 0004 R FF			mov	int8set,0ffh		; –∑–∞–
				±–æ—Ä–æ–Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –≤—Ö–æ–¥–∂–µ–Ω—å
				 
 0037				zero_8: 
 0037  C3				ret 
 0038  0002[			int8ptr	dw	2 dup (?) 
	   ????			
			 ]	
				
 003C				setint8       ENDP 
				 
				 
				;----------------------------------------------
				---------------------------- 
				;  –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –≤
				–µ–∫—Ç–æ—Ä–∞ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ —Ç–∞
				–π–º–µ—Ä–∞ 
				;----------------------------------------------
				---------------------------- 
 003C				retint8	PROC 
 003C  1E				push	ds 
 003D  52				push	dx 
				 
 003E  B0 FF				mov	al,0ffh           	; –≤—ñ–
				¥–Ω–æ–≤–∏—Ç–∏ –Ω–æ—Ä–º–∞–ª—å–Ω—É —Ä–æ–±–æ—Ç—É 
 0040  E6 40				out	40h,al            	; —Å–∏—
				Å—Ç–µ–º–Ω–æ–≥–æ —Ç–∞–π–º–µ—Ä–∞ 
 0042  EB 00				jmp	$+2 
 0044  90				nop 
 0045  E6 40				out	40h,al 
 0047  2E: 8B 16 0038 R			mov	dx,cs:int8ptr 
 004C  2E: 8E 1E 003A R			mov	ds,cs:int8ptr+2 
				 
 0051  B4 25				MOV	AH,25H			; –≤—ñ–
				¥–Ω–æ–≤–∏—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –≤–µ–∫—Ç–æ—Ä
				 
 0053  B0 08				MOV	AL,8             	; –ø–µ—
				Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ —Ç–∞–π–º–µ—Ä–∞ 
 0055  CD 21				INT	21H              	; ds:dx
				 - –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ (–ª–æ–≥—ñ—á–Ω–∞ –∞–¥—Ä–µ—
				Å–∞)  
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-6


									; –Ω–∞ 
				–ø–æ—á–∞—Ç–∫–æ–≤—É (—Å–∏—Å—Ç–µ–º–Ω—É) –ø—Ä–æ—Ü–
				µ–¥—É—Ä—É 
									; –æ–±—
				Ä–æ–±. –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ —Ç–∞–π–º–µ
				—Ä–∞ 
 0057  5A				pop	dx 
 0058  1F				pop	ds 
 0059  C6 06 0004 R 00			mov	int8set,0h      	; –¥–æ–
				∑–≤—ñ–ª –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö "–ø–µ—Ä–µ—Ö–æ–ø–ª–µ–
				Ω—å" 
 005E  C3				ret 
 005F				retint8	ENDP 
				 
				 
				 
				;----------------------------------------------
				-------------- 
				;  –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ "–ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è
				" –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ –∫–ª–∞–≤—ñ–∞—Ç—
				É—Ä–∏ (int9) 
				;----------------------------------------------
				-------------- 
 005F				setint9	PROC 
 005F  A0 0005 R			mov	al,int9set 
 0062  0A C0				or	al,al 
 0064  0F 85 008A R			jnz	zero_9 
 0068  B4 35				MOV	AH,35H			; –æ—Ç—
				Ä–∏–º–∞—Ç–∏ –≤–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è
				 
 006A  B0 09				MOV	AL,9              	; –ø–µ—
				Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ (
				9) 
 006C  CD 21				INT	21H             	;–∑–Ω–∞
				—á–µ–Ω–Ω—è —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è: 
									; es:bx
				 - –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—É –ø—
				Ä–æ—Ü–µ–¥—É—Ä—É 
									; –æ–±—
				Ä–æ–±–∫–∏ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ –∫–ª–∞–
				≤—ñ–∞—Ç—É—Ä–∏ 
				 
 006E  2E: 89 1E 008B R			mov	cs:int9ptr,bx    	; –∑–±–
				µ—Ä–µ–≥—Ç–∏ –≤ —Å–µ–≥–º–µ–Ω—Ç—ñ –∫–æ–¥—ñ–≤ –≤–∫
				–∞–∑—ñ–≤–Ω–∏–∫  
 0073  2E: 8C 06 008D R			mov	cs:int9ptr+2,es 	; –Ω–∞ 
				—Å–∏—Å—Ç–µ–º–Ω—É –ø—Ä–æ—Ü–µ–¥—É—Ä—É 
				 
 0078  BA 00A9 R			mov	dx,offset userint9 
 007B  1E				push	ds 
 007C  0E				push	cs			; ds:dx
				 - –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—É –
				∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ 
 007D  1F				pop	ds			; –æ–±—
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-7


				Ä–æ–±. –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ –∫–ª–∞–≤—ñ
				–∞—Ç—É—Ä–∏ 
				 
 007E  B4 25				MOV	AH,25H              	; –≤—Å—
				Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤–µ–∫—Ç–æ—Ä "–ø–µ—Ä–µ—Ö–æ–ø–ª–
				µ–Ω–Ω—è" 
 0080  B0 09				MOV	AL,9                   	; –ø–µ—
				Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ (
				9) 
 0082  CD 21				INT	21H 
 0084  1F				pop	ds 
				 
 0085  C6 06 0005 R FF			mov	int9set,0ffh        	; –∑–∞–
				±–æ—Ä–æ–Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –≤—Ö–æ–¥–∂–µ–Ω—å
				 
				 
 008A				   zero_9: 
 008A  C3				ret 
 008B  0002[			int9ptr	dw	2 dup (?) 
	   ????			
			 ]	
				
 008F				setint9	ENDP 
				 
				 
				;----------------------------------------------
				---------------------------- 
				;  –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø
				–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ (—Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ) 
				;  –≤–µ–∫—Ç–æ—Ä–∞ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥
				 –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ 
				;----------------------------------------------
				---------------------------- 
 008F				retint9	PROC 
 008F  1E				push	ds 
 0090  52				push	dx 
 0091  2E: 8B 16 008B R			mov	dx,cs:int9ptr		; ds:dx
				 - –ø–æ–∫–∞–∂—á–∏–∫ –Ω–∞ –ø–æ—á–∞—Ç–∫–æ–≤—É (—Å
				–∏—Å—Ç–µ–º–Ω—É) 
 0096  2E: 8E 1E 008D R			mov	ds,cs:int9ptr+2		; –ø—Ä–
				æ—Ü–µ–¥—É—Ä—É –æ–±—Ä–æ–±–∫–∏ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω
				–Ω—è –≤—ñ–¥ 
									; –∫–ª–
				∞–≤—ñ–∞—Ç—É—Ä–∏ 
				 
 009B  B4 25				MOV   	AH,25H             	; –≤—Å—
				Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤–µ–∫—Ç–æ—Ä —Å–∏—Å—Ç–µ–º–Ω–æ—ó
				 –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ 
 009D  B0 09				MOV	AL,9                  	; –æ–±—
				Ä–æ–±–∫–∏ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ –∫–ª–∞–
				≤—ñ–∞—Ç—É—Ä–∏ 
 009F  CD 21				INT	21H 
				 
 00A1  5A				pop	dx 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-8


 00A2  1F				pop	ds 
 00A3  C6 06 0005 R 00			mov	int9set,0h         	; –¥–æ–
				∑–≤—ñ–ª –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö "–ø–µ—Ä–µ—Ö–æ–ø–ª–µ–
				Ω—å" 
 00A8  C3				ret 
 00A9				retint9	ENDP 
				 
				 
				;----------------------------------------------
				-----------------------------------------------
				-- 
				; –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±—Ä–æ–±–∫–∏ –ø–µ—Ä–µ—Ä–
				∏–≤–∞–Ω—å –≤—ñ–¥ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏, 
				; –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –ª—é–±–æ–º—É 
				–Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∞–±–æ –≤—ñ–¥—Ç–∏—Å–∫–∞–Ω–
				Ω—ñ –∫–ª–∞–≤—ñ—à –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏,
				; –∑–¥—ñ–π—Å–Ω—é—î –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≤ MS-D
				OS –ø—ñ—Å–ª—è –≤—ñ–¥—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ
				—à—ñ Esc 
				;----------------------------------------------
				-----------------------------------------------
				--- 
 00A9				userint9	proc	far 
 = 0001				esc_key	equ	01h			; —Å–∫–
				∞–Ω-–∫–æ–¥ –∫–ª–∞–≤—ñ—à—ñ esc 
 = 0039				space_key	equ 39h 
 00A9  66| 60				pushad 
 00AB  06				push	es 
 00AC  E4 60				in	al,60h           	; –≤–≤–
				µ—Å—Ç–∏ —Å–∫–∞–Ω-–∫–æ–¥ - —Ä–æ–∑—Ä—è–¥–∏ 0-6 
 00AE  8A E0				mov	ah,al			; 7-–∏–
				π —Ä–æ–∑—Ä—è–¥ –¥–æ—Ä—ñ–≤–Ω—é—î 0 –ø—Ä–∏ –Ω–∞—Ç
				–∏—Å–∫–∞–Ω–Ω—ñ 
 00B0  24 7F				and	al,7fh     		; –∫–ª–
				∞–≤—ñ—à—ñ, 1- –ø—Ä–∏ –≤—ñ–¥—Ç–∏—Å–∫–∞–Ω–Ω—ñ 
				 
 00B2  50				push	ax			; al - 
				"—á–∏—Å—Ç–∏–π" —Å–∫–∞–Ω-–∫–æ–¥ (–±–µ–∑ –æ–∑–Ω–∞
				–∫–∏  
									; –Ω–∞—
				Ç–∏—Å–∫–∞–Ω–Ω—è - –≤—ñ–¥—Ç–∏—Å–∫–∞–Ω–Ω—è)  
 00B3  68 0A28				push   	2600 
 00B6  E8 02CC R			call	show			; –≤—ñ–
				¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–∫–∞–Ω-–∫–æ–¥—É –Ω–∞ –µ–∫
				—Ä–∞–Ω—ñ 
				 
 00B9  3C 01				cmp    	al,esc_key 
 00BB  0F 84 0112 R			je	ui9010 
				 
				 
				; (–≤–∞—Ä—ñ–∞–Ω—Ç 2) 
 00BF  3C 0B				cmp		al, 0Bh 
 00C1  BB 0000				mov bx, 0h 
 00C4  0F 84 00D7 R			je t_begin 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-9


				 
 00C8  3C 02				cmp 	al, 02h 
 00CA  0F 8C 010A R			jl t_end 
 00CE  3C 0A				cmp		al, 0Ah 
 00D0  0F 8F 010A R			jg	t_end 
				 
 00D4  8A D8				mov bl, al 
 00D6  4B				dec bx 
				 
 00D7				t_begin: 
 00D7  1E				push ds 
				 
 00D8  B8 ---- R			mov ax, _data 
 00DB  8E D8				mov ds, ax 
				 
 00DD  F6 06 009E R 01			test iter, 1 
 00E2  0F 84 0105 R			jz _dec 
 00E6  FE 06 009E R			inc iter 
				 
 00EA  80 BF 002C R 08 90		cmp init[bx], stop 
 00F0  0F 84 00FC R			je ui_t2 
				 
 00F4				ui_t1: 
 00F4  C6 87 002C R 08			mov init[bx], stop 
 00F9  EB 06 90				jmp ui_t3 
 00FC				ui_t2: 
 00FC  C6 87 002C R 00			mov init[bx], ready 
						 
				 
 0101				ui_t3: 
 0101  1F				pop ds 
 0102  EB 06 90				jmp t_end 
				 
 0105				_dec: 
 0105  FE 0E 009E R			dec iter 
 0109  1F				pop ds 
				 
 010A				t_end: 
				 
					 
 010A  07				pop es 
 010B  66| 61				popad 
 010D  2E: FF 2E 008B R			jmp    	dword ptr cs:int9ptr 	; –ø–µ—
				Ä–µ—Ö—ñ–¥ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—É 
									;–ø—Ä–æ
				—Ü–µ–¥—É—Ä—É –æ–±—Ä–æ–±–∫–∏ 
									;–ø–µ—Ä
				–µ—Ä–∏–≤–∞–Ω—å –≤—ñ–¥ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏, —è–
				∫–∞ 
									;–≤–∏–∫
				–æ–Ω–∞—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥—ñ—ó, –≤–∫
				–ª—é—á–∞—é—á–∏ 
									;–ø–æ–≤
				–µ—Ä–Ω–µ–Ω–Ω—è –≤ –ø–µ—Ä–µ—Ä–≤–∞–Ω—É –ø—Ä–æ–≥—Ä
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-10


				–∞–º—É 
				 
				; (–≤–∞—Ä—ñ–∞–Ω—Ç 1) 
				; –°–ê–ú–û–°–¢–Ü–ô–ù–ï –í–ò–†–Ü–®–ï–ù–ù–Ø –ü–†–
				û–ë–õ–ï–ú –ó –ö–õ–ê–í–Ü–ê–¢–£–†–û–Æ 
				 
 0112				ui9010: 
 0112  8B D8				mov    	bx,ax 
 0114  E4 61				in	al,61h			;–±—ñ—Ç
				 7 –ø–æ—Ä—Ç–∞ 61h –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è
				 –≤–≤–µ–¥–µ–Ω–Ω—è 
									; –ø—ñ–
				¥—Ç–≤–µ—Ä–¥–∂—É—é—á–æ–≥–æ —ñ–º–ø—É–ª—å—Å—É –≤ –
				∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É –ü–ï–û–ú. 
									; –ö–ª–
				∞–≤—ñ–∞—Ç—É—Ä–∞ –±–ª–æ–∫—É—î—Ç—å—Å—è –ø–æ–∫–∏ –
				Ω–µ –Ω–∞–¥—ñ–π–¥–µ 
									; –ø—ñ–
				¥—Ç–≤–µ—Ä–¥–∂—É—é—á–∏–π —ñ–º–ø—É–ª—å—Å 
				 
 0116  8A E0				mov	ah,al 
 0118  0C 80				or	al,80h			;      
				                         | 
 011A  E6 61				out	61h,al			; –≤–∏–
				≤–µ–¥–µ–Ω–Ω—è –Ω–∞ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É	‚îî‚îÄ‚
				îÄ‚îÄ‚îê      
 011C  EB 00				jmp    	$+2			;      
				                             | 
 011E  8A C4				mov    	al,ah			;      
				                             | 
 0120  E6 61				out	61h,al			; –ø—ñ–
				¥—Ç–≤–µ—Ä–¥–∂—É—é—á–æ–≥–æ —ñ–º–ø—É–ª—å—Å—É
					‚îå‚îÄ‚îÄ‚îÄ‚îò 
				 
 0122  B0 20				mov    	al,20h			; —Ä–æ–
				∑–±–ª–æ–∫—É–≤–∞—Ç–∏ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ –ø–
				µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è 
									; –ø—Ä–
				æ—Ö–æ–¥–∂–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ –ø–µ—Ä–µ—
				Ä–∏–≤–∞–Ω–Ω—è  
									; –ø–æ—
				Ç–æ—á–Ω–æ–≥–æ —Ç–∞ –º–µ–Ω—à–æ–≥–æ —Ä—ñ–≤–Ω—ñ–≤ 
				–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É, 
 0124  E6 20				out	20h,al			; —â–æ 
				–∑–∞–±–µ–∑–ø–µ—á–∏—Ç—å –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–
				∞—Å—Ç—É–ø–Ω–æ–≥–æ  
									;–ø–µ—Ä
				–µ—Ä–∏–≤–∞–Ω–Ω—è –≤—ñ–¥ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ 
				 
 0126  8B C3				mov	ax,bx 
					 
					;cmp		al, space_key 
					;je ui_task 
				 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-11


				 
 0128  3A E0				cmp    	ah,al			; –ø–µ—
				Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ–¥—ñ—ó –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è
				 - –≤—ñ–¥ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è 
									; —á–∏ 
				–≤—ñ–¥ –≤—ñ–¥—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à—ñ –∫
				–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ 
 012A  0F 84 0148 R			je	ui9040 
									; –≤—ñ–
				¥—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à—ñ 
 012E				ui9020: 
 012E  06				push	es 
 012F  C4 1E 0000 R			les	bx, @ms_dos_busy	; es:bx
				 - –∞–¥—Ä–µ—Å–∞ –æ–∑–Ω–∞–∫–∏  
									; –∑–∞–
				π–Ω—è—Ç–æ—Å—Ç—ñ MS-DOS 
 0133  26: 8A 07			mov	al,es:[bx]		; ax - 
				–æ–∑–Ω–∞–∫–∞ –∑–∞–π–Ω—è—Ç–æ—Å—Ç—ñ MS-DOS 
 0136  07				pop	es 
 0137  0A C0				or	al,al			; –ø–µ—
				Ä–µ–≤—ñ—Ä–∫–∞ 
									; —è–∫—
				â–æ –±—É–ª–∞ –ø–µ—Ä–µ—Ä–≤–∞–Ω–∞ —Ä–æ–±–æ—Ç–∞ MS
				-DOS 
									; –≤ "–
				Ω–µ–≤–¥–∞–ª–∏–π" –º–æ–º–µ–Ω—Ç 
 0139  0F 85 0148 R			jnz	ui9040			; —Ç–æ 
				–Ω–µ –º–æ–∂–Ω–∞ –≤—ñ–¥ –Ω–µ—ó –≤–∏–º–∞–≥–∞—Ç–∏ 
									; –≤–∏–
				∫–æ–Ω–∞–Ω–Ω—è —Ä—è–¥—É —Ñ—É–Ω–∫—Ü—ñ–π 
									; (–≤ –
				∑–∞–≥–∞–ª—å–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É MS-DOS  
									; –Ω–µ 
				–∑–∞–±–µ–∑–ø–µ—á—É—î –ø–æ–≤—Ç–æ—Ä–Ω–µ –≤—Ö–æ–¥–
				∂–µ–Ω–Ω—è) 
				 
 013D  E8 003C R			call	retint8 
 0140  E8 008F R			call	retint9 
 0143  B8 4C00				mov	ax,4c00h 
 0146  CD 21				int	21h			; –ó–ê–
				ö–Ü–ù–ß–ò–¢–ò –†–û–ë–û–¢–£ –ë–ê–ì–ê–¢–û–ü–†–û–ì
				–†–ê–ú–ù–û–á –ú–û–î–ï–õ–Ü 
 0148				ui9040: 
 0148  07				pop	es			; –≤—ñ–
				¥–Ω–æ–≤–∏—Ç–∏ —Å—Ç–µ–∫ –ø–µ—Ä–µ—Ä–≤–∞–Ω–æ—ó –ø—
				Ä–æ–≥—Ä–∞–º–∏ 
 0149  66| 61				popad 
 014B  CF				iret				; –∑–∞–
				∫—ñ–Ω—á–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω
				–Ω—è 
 014C				userint9	endp 
				 
				 
				;----------------------------------------------
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-12


				-------------- 
				; –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±—Ä–æ–±–∫–∏ –ø–µ—Ä–µ—Ä–
				∏–≤–∞–Ω–Ω—è –≤—ñ–¥ —Ç–∞–π–º–µ—Ä–∞ 
				;         (–º–µ–Ω–µ–¥–∂–µ—Ä –∫–≤–∞–Ω—Ç—ñ–≤) 
				;     –∫–æ–¥–∏ —Å—Ç–∞–Ω—É –∑–∞–¥–∞—á (–≤–∏–∫–æ—
				Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ –º–∞—Å–∏–≤—ñ init) 
				;----------------------------------------------
				-------------- 
 = 0000				ready		equ	0		; –∑–∞–
				¥–∞—á–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ –≤ –ø–∞–º‚Äô—è—Ç
				—å —ñ 
									; –≥–æ—
				Ç–æ–≤–∞ –¥–æ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–
				∫—É 
									; —Å—Ç–
				∞—Ç—É—Å –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø–æ–∑–∞ –
				º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –∫–≤–∞–Ω—Ç—ñ–≤ 
 = 0001				execute		equ	1   		; –∑–∞–
				¥–∞—á–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è 
 = 0002				hesitation	equ	2		; –∑–∞–
				¥–∞—á–∞ –ø—Ä–∏–∑—É–ø–∏–Ω–µ–Ω–∞ —ñ —á–µ–∫–∞—î —Å
				–≤–æ—î—ó —á–µ—Ä–≥–∏ 
 = 0004				close		equ	4		; –≤–∏–
				∫–æ–Ω–∞–Ω–Ω—è –∑–∞–¥–∞—á—ñ –∑–∞–≤–µ—Ä—à–µ–Ω–æ 
 = 0008				stop		equ	8		; –∑–∞–
				¥–∞—á–∞ –∑—É–ø–∏–Ω–µ–Ω–∞   
									; —Å—Ç–
				∞—Ç—É—Å –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è —ñ –∑–º—ñ–
				Ω—é—î—Ç—å—Å—è 
									; –ø–æ–
				∑–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∫–≤–∞–Ω—Ç—ñ–≤ 
 = 0010				absent		equ	16  		; –∑–∞–
				¥–∞—á–∞ –≤—ñ–¥—Å—É—Ç–Ω—è  
				 
				 
				;----------------------------------------------
				-------------- 
 014C				userint8	PROC	far 
 014C  66| 60				pushad                   	;–∑–±–µ
				—Ä–µ–∂–µ–Ω–Ω—è –†–û–ù –≤ —Å—Ç–µ–∫—É –ø–µ—Ä–µ—Ä–
				≤–∞–Ω–æ—ó –∑–∞–¥–∞—á—ñ 
 014E  1E				push     ds 
				 
				; (–≤–∞—Ä—ñ–∞–Ω—Ç 3) 
 014F  9C				pushf                     	;–ø—Ä–æ
				–≥—Ä–∞–º–Ω–∞ —ñ–º—ñ—Ç–∞—Ü—ñ—è –∞–ø–∞—Ä–∞—Ç–Ω–æ–
				≥–æ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è 
									;–í–Ü–î
				–ú–Ü–¢–ò–ú–û - –æ–∑–Ω–∞–∫–∞ –¥–æ–∑–≤–æ–ª—É –Ω–∞
				 –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è  
									;(if) –
				∞–ø–∞—Ä–∞—Ç—É—Ä–æ—é —Å–∫–∏–Ω—É—Ç–∞ –≤ 0. 
				 
 0150  2E: FF 1E 0038 R			call	cs:dword ptr int8ptr	;–≤–∏–∫
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-13


				–ª–∏–∫ —Å–∏—Å—Ç–µ–º–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –æ
				–±—Ä–æ–±–∫–∏ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è int8, 
									;—è–∫–∞
				, –º—ñ–∂ —ñ–Ω—à–∏–º, —Ä–æ–∑–±–ª–æ–∫—É—î 8-–º–µ 
				–ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ 
				–ø–µ—Ä–µ—Ä–∏–≤–∞–Ω—å  
									;–∞–ª–µ
				 –∞–ø–∞—Ä–∞—Ç–Ω—ñ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è –Ω–µ –
				º–æ–∂–ª–∏–≤—ñ, –æ—Å–∫—ñ–ª—å–∫–∏ if=0 
				 
				                            
 0155  B8 ---- R			mov	ax,_data		;–≤ –ø–
				µ—Ä–µ—Ä–≤–∞–Ω—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ –≤–º—ñ—Å—Ç —
				Å–µ–≥–º–µ–Ω—Ç–Ω–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä–∞ 
 0158  8E D8				mov	ds,ax			;ds –≤ 
				–∑–∞–≥–∞–ª—å–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É –º–æ–∂–µ –±
				—É—Ç–∏ –ª—é–±–∏–º 
				 
 015A  FF 06 009C R			inc	clk			; –ø—Ä–
				æ–≥—Ä–∞–º–Ω–∏–π –ª—ñ—á–∏–ª—å–Ω–∏–∫ –ø–µ—Ä–µ—Ä–∏
				–≤–∞–Ω—å –≤—ñ–¥ —Ç–∞–π–º–µ—Ä–∞ 
 015E  FF 36 009C R			push	clk			; –º–æ–
				∂–µ –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–∏–º –ø—Ä–∏ –≤–∏–≤—á–µ
				–Ω–Ω—ñ –º–æ–¥–µ–ª—ñ 
 0162  68 0988				push	2440 
 0165  E8 02CC R			call	show			; –≤–∏–
				≤–µ–¥–µ–Ω–Ω—è –Ω–∞ –µ–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–Ω—è 
				–ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ 
				 
 0168  66| 33 F6			xor	esi,esi 
 016B  8B 36 002A R			mov    	si,nprg 
 016F  83 FE 0A				cmp    	si,fon			; –ø–µ—
				Ä–µ—Ä–≤–∞–Ω–∞ –∑–∞–¥–∞—á–∞ —Ñ–æ–Ω–æ–≤–∞ ? 
 0172  0F 84 0187 R			je	disp005 
				 
									; –ø–µ—
				Ä–µ—Ä–≤–∞–Ω–∞ –∑–∞–¥–∞—á–∞ –Ω–µ —Ñ–æ–Ω–æ–≤–∞ 
 0176  80 BC 004C R 01			cmp	clockt[si],1		; —î —â
				–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –∫–≤–∞–Ω—Ç–∏ ? 
 017B  0F 82 0197 R			jc	disp010 
				 
 017F  FE 8C 004C R			dec   	clockt[si]		; –∑–º–
				µ–Ω—à–∏—Ç–∏ –ª—ñ—á–∏–ª—å–Ω–∏–∫ –∫–≤–∞–Ω—Ç—ñ–≤ 
 0183  1F				pop	ds 
 0184  66| 61				popad				; –ø—Ä–
				æ–¥–æ–≤–∂–∏—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–µ—Ä–µ—Ä–≤
				–∞–Ω–æ—ó –∑–∞–¥–∞—á—ñ 
 0186  CF				iret 
				 
 0187				disp005:				; –ø–µ—
				Ä–µ—Ä–≤–∞–Ω–∞ –∑–∞–¥–∞—á–∞ —Ñ–æ–Ω–æ–≤–∞ 
 0187  89 26 0006 R			mov	fonsp,sp 
 018B  C7 06 002A R 0009		mov	nprg,max_prg-1    	; –∑–∞–
				±–µ–∑–ø–µ—á–∏—Ç–∏ –ø–µ—Ä–µ–≥–ª—è–¥ –∑–∞–¥–∞—á –
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-14


				∑ 0-–≤–æ—ó 
 0191  B9 0009				mov	cx,max_prg-1            
					; max_prg - max –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞
				–¥–∞—á 
 0194  EB 1A 90				jmp	disp015 
				 
 0197				disp010:				; –ø–µ—
				Ä–µ—Ä–≤–∞–Ω–∞ –∑–∞–¥–∞—á–∞ –Ω–µ —Ñ–æ–Ω–æ–≤–∞ 
 0197  80 BC 002C R 08			cmp init[si], stop 
 019C  0F 84 01B0 R			je disp015 
 01A0  67| 89 2475 0000000A		mov	stp[esi*2],sp       	
					 
	R			
 01A8  C6 84 002C R 02			mov	init[si],hesitation    	; –ø—Ä–
				∏–∑—É–ø–∏–Ω–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –∑–∞–¥–∞—á—É 
 01AD  B9 000A				mov	cx,max_prg 
				 
				 
 01B0				disp015:				; –≤–∏–
				∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ, —è–∫—ñ–π –Ω–µ–æ–±
				—Ö—ñ–¥–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—
				è 
 01B0  BF 000B				mov	di,max_prg+1 
 01B3  2B F9				sub	di,cx 
 01B5  03 3E 002A R			add    	di,nprg 
 01B9  83 FF 0A				cmp    	di,max_prg 
 01BC  0F 82 01C3 R			jc	disp018 
 01C0  83 EF 0A				sub    	di,max_prg 
 01C3				disp018: 
					;xor	ebx,ebx 
 01C3  66| 0F B7 DF			movzx	ebx,di 
					;push	bx 
					;push	3220 
					;call	show 
				                                     
					; —Å—Ö –ø—Ä–æ–±—ñ–≥–∞—î –∑–Ω–∞—á–µ–Ω–Ω—
				è max_prg,max_prg-1,...,2,1 
				 	; bx –ø—Ä–æ–±—ñ–≥–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è 
				 nprg+1,nprg+2,...,max_prg-1,0,...,nprg 
				 
 01C7  80 BF 002C R 00			cmp   	init[bx],ready 
 01CC  0F 84 0206 R			je	disp100			; –ø–µ—
				Ä–µ—Ö—ñ–¥ –Ω–∞ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞–ø—É—Å–
				∫ –∑–∞–¥–∞—á—ñ 
				 
 01D0  80 BF 002C R 02			cmp   	init[bx],hesitation 
 01D5  0F 84 01E9 R			je	disp020			; –ø–µ—
				Ä–µ—Ö—ñ–¥ –Ω–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–æ–±–æ—
				Ç–∏ 
									; –Ω–∞—
				Å—Ç—É–ø–Ω–æ—ó –∑–∞–¥–∞—á—ñ 
 01D9  E2 D5				loop	disp015 
				 
									; –≤—ñ–
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-15


				¥—Å—É—Ç–Ω—ñ  –∑–∞–¥–∞—á—ñ, —è–∫—ñ –º–æ–∂–Ω–∞ –∑
				–∞–ø—É—Å—Ç–∏—Ç—å 
									; (–ø–µ
				—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏), —Ç–æ–º—É  
 01DB  8B 26 0006 R			mov    	sp,fonsp		; —É—Å—
				Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–µ–∫ —Ñ–æ–Ω–æ–≤–æ—ó –∑–
				∞–¥–∞—á—ñ 
 01DF  C7 06 002A R 000A		mov    	nprg,fon 
 01E5  1F				pop	ds			; —ñ–∑ 
				—Å—Ç–µ–∫–∞ —Ñ–æ–Ω–æ–≤–æ—ó –∑–∞–¥–∞—á—ñ –≤—ñ–¥–Ω
				–æ–≤–ª—é—î–º–æ 
 01E6  66| 61				popad				; –≤–º—
				ñ—Å—Ç —Ä–µ–≥—ñ—Å—Ç—Ä—ñ–≤ 
 01E8  CF				iret				; –ø–æ–
				≤–µ—Ä–Ω–µ–Ω–Ω—è –≤ —Ñ–æ–Ω–æ–≤—É –∑–∞–¥–∞—á—É 
				 
 01E9				disp020: 
									; –≤—ñ–
				¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ
				—ó –∑–∞–¥–∞—á—ñ 
					;push	bx 
					;push	2480 
					;call	show 
 01E9  89 1E 002A R			mov   	nprg,bx 
 01ED  67| 8B 245D 0000000A		mov   	sp,stp[ebx*2] 
	R			
 01F5  8A 87 003C R			mov   	al,clock[bx] 
 01F9  88 87 004C R			mov   	clockt[bx],al		; –≤—Å—
				Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–∑–≤–æ–ª–µ–Ω—É 
									; –∫—ñ–
				ª—å–∫—ñ—Å—Ç—å –∫–≤–∞–Ω—Ç—ñ–≤ 
 01FD  C6 87 002C R 01			mov   	init[bx],execute	; —Å—Ç–
				∞–Ω –∑–∞–¥–∞—á—ñ - –∑–∞–¥–∞—á–∞ –≤–∏–∫–æ–Ω—É—î—
				Ç—å—Å—è 
				 
 0202  1F				pop	ds 
 0203  66| 61				popad 
 0205  CF				iret 
				 
 0206				disp100:				; –ø–µ—
				Ä—à–æ–ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞–ø—É—Å–∫ –∑–∞–¥–∞
				—á—ñ 
 0206  89 1E 002A R			mov	nprg,bx 
 020A  67| 8B 245D 0000000A		mov	sp,stp[ebx*2] 
	R			
 0212  8A 87 003C R			mov	al,clock[bx] 
 0216  88 87 004C R			mov	clockt[bx],al		; –≤—Å—
				Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–∑–≤–æ–ª–µ–Ω—É 
									; –∫—ñ–
				ª—å–∫—ñ—Å—Ç—å –∫–≤–∞–Ω—Ç—ñ–≤ 
 021A  C6 87 002C R 01			mov	init[bx],execute 
				 
 021F  67| FF 345D 0000007C		push	names[ebx*2]		; —ñ–º'
				—è –∑–∞–¥–∞—á—ñ 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-16


	R			
 0227  67| FF 345D 0000005C		push	screen_addr[ebx*2]  	; –∞–¥—
				Ä–µ—Å–∞ "–≤—ñ–∫–Ω–∞" –¥–ª—è –∑–∞–¥–∞—á—ñ –Ω–∞ –
				µ–∫—Ä–∞–Ω—ñ  
	R			
 022F  6A 16				push	22			; —Ä–æ–
				∑—Ä—è–¥–Ω—ñ—Å—Ç—å –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ 
 0231  E8 0252 R			call	Vcount			; –∑–∞–
				ø—É—Å–∫ 
				 
					;xor   	esi,esi 
 0234  66| 0F B7 36 002A R		movzx  	esi,nprg		; –Ω–∞ 
				ax - –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á—ñ, —è–∫–∞ 
									; –∑–∞–
				≤–µ—Ä—à–∏–ª–∞ —Å–≤–æ—é —Ä–æ–±–æ—Ç—É –≤ –º–µ–∂–∞
				—Ö 
									; —á–µ—
				Ä–≥–æ–≤–æ–≥–æ –∫–≤–∞–Ω—Ç—É —á–∞—Å—É 
 023A  C6 84 002C R 04			mov   	init[si],close 
 023F  C6 84 002C R 04			mov   	init[si],close 
 0244  8B 26 0006 R			mov    	sp,fonsp 
 0248  C7 06 002A R 000A		mov    	nprg,fon 
 024E  1F				pop	ds 
 024F  66| 61				popad 
 0251  CF				iret				; –ø–æ–
				≤–µ—Ä–Ω–µ–Ω–Ω—è –≤ —Ñ–æ–Ω–æ–≤—É –∑–∞–¥–∞—á—É 
 0252				userint8	ENDP 
				 
				;----------------------------------------------
				-----------------------------------------------
				-------------- 
				; Vcount - –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –¥–ª—è –º–æ–¥–µ–ª
				—é–≤–∞–Ω–Ω—è –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö –∑–∞–¥–∞—á  
				; –≤—Ö—ñ–¥–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏: 
				;	1-–π - —ñ–º'—è –∑–∞–¥–∞—á—ñ (–¥–≤–∞ —Å–
				∏–º–≤–æ–ª–∞) [bp+8] 
				;	2-–π - –∑–º—ñ—â–µ–Ω–Ω—è –≤ –≤—ñ–¥–µ–æ—Å
				—Ç–æ—Ä—ñ–Ω—Ü—ñ "–≤—ñ–∫–Ω–∞" –∑–∞–¥–∞—á—ñ [bp+6]
				 
				;	3-–π - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–≤—ñ–π–∫–æ–
				≤–∏—Ö —Ä–æ–∑—Ä—è–¥—ñ–≤ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ [bp
				+4] 
				; –í–∏–∫–æ–Ω—É–≤–∞–Ω—ñ –¥—ñ—ó: 
				;    –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É: 
				;  - –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è 
				;  - —Å—Ç–≤–æ—Ä—é—î –≤ —Å—Ç–µ–∫—É 10-–±–∞–π—Ç–Ω
				—É –æ–±–ª–∞—Å—Ç—å –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –¥–
				∞–Ω–∏—Ö 
				;  - —Ä–æ–∑–º—ñ—â—É—î –≤ —Ü—é –æ–±–ª–∞—Å—Ç—å –ø
				–æ –∞–¥—Ä–µ—Å—ñ [bp-2] –∑–∞–ª–∏—à–æ–∫ –≤—ñ–¥ –¥
				—ñ–ª–µ–Ω–Ω—è 
				;               3-–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–∞ 
				32 (—Ñ–∞–∫—Ç–∏—á–Ω–∞ —Ä–æ–∑—Ä—è–¥–Ω—ñ—Å—Ç—å –ª—
				ñ—á–∏–ª—å–Ω–∏–∫–∞ - 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-17


				;               –ø–µ—Ä–µ—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –≤—ñ
				–¥ –ø–æ–º–∏–ª–æ–∫ –≤ –∑–∞–≤–¥–∞–Ω–Ω—ñ —Ä–æ–∑—Ä—
				è–¥–Ω–æ—Å—Ç—ñ) 
				;  - –∑–∞–ø–∏—Å—É—î –≤ —Ü—é –æ–±–ª–∞—Å—Ç—å –ø–æ
				 –∞–¥—Ä–µ—Å—É [bp-6] –º–∞—Å–∫—É –∑ —á–∏—Å–ª–æ–º
				 
				;               –æ–¥–∏–Ω–∏—Ü—å –≤ –º–æ–ª–æ–¥—à–
				∏—Ö —Ä–æ–∑—Ä—è–¥—ñ–≤ —Ä—ñ–≤–Ω–∏–º —Ñ–∞–∫—Ç–∏—á–
				Ω—ñ–π  
				;               —Ä–æ–∑—Ä—è–¥–Ω–æ—Å—Ç—ñ –ª—ñ—á–∏
				–ª—å–Ω–∏–∫–∞ 
				;  - –∑–∞–ø–∏—Å—É—î –≤ –Ω—É–ª—å –≤ 4-—Ö –±–∞–π—
				Ç –Ω–∏–π –ª—ñ—á–∏–ª—å–Ω–∏–∫ –ø–æ –∞–¥—Ä–µ—Å—É [
				bp-10] 
				 
				;  –≤ –ø–æ–¥–∞–ª—å—à–æ–º—É –≤ —Ü–∏–∫–ª—ñ: 
				;           - –≤–∏–≤–æ–¥–∏—Ç—å –ø–æ–∫–∞–∑–Ω–∏–∫
				–∏ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –Ω–∞ –µ–∫—Ä–∞–Ω 
				;           - –∑–±—ñ–ª—å—à—É—î –∑–Ω–∞—á–µ–Ω–Ω—è
				 –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –Ω–∞ 1 
				;  –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ –ø—ñ—Å–ª—è
				 –ø–µ—Ä–µ—Ö–æ–¥—É –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞  
				;  –∑ —Å—Ç–∞–Ω—É "–≤—Å—ñ –æ–¥–∏–Ω–∏—Ü—ñ" –≤ —Å—
				Ç–∞–Ω –≤—Å—ñ 0 
				 
 0252				Vcount	proc	near 
 0252  55				push	bp 
 0253  8B EC				mov  	bp,sp 
 0255  83 EC 0A				sub   	sp,10			;—Ñ–æ—Ä
				–º—É–≤–∞–Ω–Ω—è –≤ —Å—Ç–µ–∫—É –æ–±–ª–∞—Å—Ç—ñ –¥–
				ª—è 
									;–∑–±–µ
				—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö 
 0258  FB				sti 
				 
 0259  06				push  	es 
 025A  B8 B800				mov  	ax,0b800h 
 025D  8E C0				mov  	es,ax 
				 
 025F  8B 46 04				mov  	ax,[bp+4]		;ax = –
				∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–æ–∑—Ä—è–¥—ñ–≤ –ª—ñ—á–∏–ª—å
				–Ω–∏–∫–∞ 
 0262  25 001F				and   	ax,31			;ax=ax 
				mod 32 (–¥–ª—è –ø–µ—Ä–µ—Å—Ç—Ä–∞—Ö–æ–≤–∫–∏) 
 0265  89 46 FE				mov  	[bp-2],ax		;–ø–æ [
				bp-2] –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–æ–∑—Ä. –ª—ñ—á–∏–ª—å
				–Ω–∏–∫–∞ <32 
					 
 0268  8B C8				mov  	cx,ax 
 026A  66| B8 00000001			mov  	eax,001b 
 0270  66| D3 E0			shl	eax,cl 
 0273  66| 48				dec   	eax			; eax -
				 –º–∞—Å–∫–∞ —Å —á–∏—Å–ª–æ–º 1 —Ä—ñ–≤–Ω–∏–º 
									; –∫—ñ–
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-18


				ª—å–∫–æ—Å—Ç—ñ —Ä–æ–∑—Ä—è–¥—ñ–≤ –ª—ñ—á–∏–ª—å–Ω–∏
				–∫–∞ 
 0275  66| 89 46 FA			mov  	[bp-6],eax 
				 
 0279  66| C7 46 F6 00000000		mov   	dword ptr [bp-10],0   	; —Å–∫–
				∏–¥–∞–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ 
				 
 0281  8B 7E 06				mov   	di,[bp+6]		; –≤–∏–
				≤—ñ–¥ —ñ–º–µ–Ω—ñ –∑–∞–¥–∞—á—ñ 
 0284  8B 56 08				mov  	dx,[bp+8] 
 0287  B4 0B				mov  	ah,1011b 
 0289  8A C6				mov  	al,dh 
 028B  FC				cld 
 028C  AB				stosw 
 028D  8A C2				mov  	al,dl 
 028F  AB				stosw 
				 
 0290  FD				std				;–ø—ñ–¥
				–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –≤–∏–≤–æ–¥—É –ª—ñ—á–∏–ª—å–Ω
				–∏–∫–∞ 
 0291  03 F9				add   	di,cx			;–ø–æ—á
				–∏–Ω–∞—é—á–∏ —Å –º–æ–ª–æ–¥—à–∏—Ö —Ä–æ–∑—Ä—è–¥—ñ
				–≤ 
 0293  03 F9				add   	di,cx 
 0295  8B DF				mov  	bx,di 
 0297  66| 33 D2			xor    	edx,edx 
				 
 029A				l20:					;–≤–∏–≤
				—ñ–¥ –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ 
				 –≤ –¥–≤–æ—ó—á–Ω–æ–º—É  
									;—Ñ–æ—Ä
				–º–∞—Ç—ñ 
 029A  8B FB				mov  	di,bx 
 029C  8B 4E FE				mov  	cx,[bp-2] 
 029F  B4 0A				mov  	ah,1010b		; 1010b
				 –∞—Ç—Ä–∏–±—É—Ç —Å–∏–º–≤–æ–ª—É, –∞—Ç—Ä–∏–±—É—Ç 
				—Ñ–æ–Ω–∞ - 0  
									; (—á–æ
				—Ä–Ω–∏–π) 
 02A1				l40: 
 02A1  B0 30				mov  	al,'0' 
 02A3  66| D1 EA			shr   	edx,1 
 02A6  0F 83 02AC R			jnc   	l60 
 02AA  B0 31				mov  	al,'1' 
 02AC				l60: 
 02AC  AB				stosw 
 02AD  E2 F2				loop  	l40 
				 
 02AF  66| FF 46 F6			inc    	dword ptr [bp-10]	; +1 –≤
				 –ª—ñ—á–∏–ª—å–Ω–∏–∫ 
 02B3  66| 8B 56 F6			mov  	edx,dword ptr [bp-10] 
 02B7  66| 23 56 FA			and   	edx,[bp-6]		; –ø–µ—
				Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ 0 
 02BB  75 DD				jnz      l20 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-19


				 
 02BD  07				pop    	es 
 02BE  83 C4 0A				add    	sp,10 
 02C1  8B 46 08				mov  	ax,[bp+8] 
 02C4  25 000F				and   	ax,0fh 
 02C7  FA				cli 
 02C8  5D				pop   	bp 
 02C9  C2 0006				ret    	6 
 02CC				Vcount	endp 
				 
				;----------------------------------------------
				-----------------------------------------------
				-------------- 
 02CC				show	proc	near 
 02CC  55				push	bp 
 02CD  8B EC				mov  	bp,sp 
 02CF  60				pusha 
 02D0  06				push  	es 
 02D1  B8 B800				mov  	ax,0b800h 
 02D4  8E C0				mov   	es,ax 
				 
 02D6  FD				std 
 02D7				ls20: 
 02D7  8B 7E 04				mov  	di,[bp+4] 
 02DA  8B 5E 06				mov  	bx,[bp+6] 
 02DD  B9 0004				mov  	cx,4 
 02E0  B4 0A				mov  	ah,0ah 
 02E2				ls40: 
 02E2  8A C3				mov  	al,bl 
 02E4  24 0F				and   	al,00001111b 
 02E6  3C 0A				cmp  	al,10 
 02E8  0F 8C 02EE R			jl	ls100 
 02EC  04 07				add   	al,7 
 02EE				ls100: 
 02EE  04 30				add   	al,30h 
 02F0  AB				stosw 
 02F1  C1 EB 04				shr    	bx,4 
 02F4  E2 EC				loop  	ls40 
				 
 02F6  07				pop   	es 
 02F7  61				popa 
 02F8  5D				pop   	bp 
 02F9  C2 0004				ret    	4 
 02FC				show	endp 
				;----------------------------------------------
				-------------- 
				;----------------------------------------------
				-------------- 
				;----------------------------------------------
				-------------- 
 02FC				begin: 
 02FC  B8 ---- R			mov	ax,_data 
 02FF  8E D8				mov 	ds,ax 
				 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-20


 0301  B8 0003				mov 	ax,3			; –∑–∞–
				¥–∞—Ç–∏ —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º 80 –Ω–∞ 2
				5 
 0304  CD 10				int   	10h 
				 
 0306  B4 10				mov  	ah,10h			; –≤—ñ–
				¥–∫–ª—é—á–∏—Ç–∏ —Ä–µ–∂–∏–º –º–∏–≥–æ—Ç—ñ–Ω–Ω—è 
 0308  B0 03				mov  	al,3 
 030A  B3 00				mov  	bl,0 
 030C  CD 10				int    	10h 
				 
 030E  B9 000A				mov  	cx,max_prg 
 0311  66| 33 F6			xor   	esi,esi 
 0314  BB 0004				mov  	bx,4 
 0317				b10: 
 0317  67| 89 1C75 0000005C		mov  	screen_addr[esi*2],bx	; –∑–∞–
				ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ 
	R			
									; –∞–¥—
				Ä–µ—Å –≤–∏–≤–æ–¥—É –¥–ª—è –∑–∞–¥–∞—á 
 031F  C6 84 002C R 00			mov 	init[si],ready 		; –ø–µ—
				Ä—à–æ–ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è 
									; —Ç–∞–
				±–ª–∏—Ü—ñ —Å—Ç–∞–Ω—É –∑–∞–¥–∞—á 
 0324  83 C3 50				add  	bx,80 
 0327  46				inc   	si 
 0328  E2 ED				loop 	b10 
				;SETINT 
 032A  FA				cli				; –∑–∞–
				±–æ—Ä–æ–Ω–∞ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω—å 
					 
 032B  B4 34				mov	ah,34h 
 032D  CD 21				int	21h			;es:bx 
				- –∞–¥—Ä–µ—Å–∞ –æ–∑–Ω–∞–∫–∏ –∑–∞–π–Ω—è—Ç–æ—Å—Ç—
				ñ MS-DOS 
 032F  89 1E 0000 R			mov	word ptr @ms_dos_busy,bx 
 0333  8C 06 0002 R			mov	word ptr @ms_dos_busy+2,es 
				 
 0337  E8 0000 R			call 	setint8			;"–ø–µ—
				Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è" int8 
				 
 033A  8B EC				mov bp, sp 
				 
 033C  E8 005F R			call	setint9			;"–ø–µ—
				Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è" int9 
				 
 033F  8B E5				mov sp, bp 
				 
 0341  0F B2 26 0006 R			lss    	sp,sssp			; —Å—Ç–
				µ–∫ —Ñ–æ–Ω–æ–≤–æ—ó –∑–∞–¥–∞—á—ñ 
 0346  C7 06 002A R 000A		mov 	nprg,fon 
 034C  68 464E				push	'FN' 
 034F  68 0708			      	push	1800 
 0352  6A 1E			      	push	30 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Page     1-21


 0354  E8 0252 R			call  	Vcount			; –∑–∞–
				ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ—ó –∑–∞–¥–∞—á—ñ 
									; –≤ –ø
				—Ä–æ—Ü–µ–¥—É—Ä—ñ Vcount —É—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—
				å—Å—è –¥–æ–∑–≤—ñ–ª 
									;–Ω–∞ –
				ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è —ñ –ø—Ä–∏ —á–µ—Ä–≥–æ–≤–∏—
				Ö –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è—Ö 
									; –≤—ñ–
				¥ —Ç–∞–π–º–µ—Ä–∞ –º–µ–Ω–µ–¥–∂–µ—Ä –∫–≤–∞–Ω—Ç—ñ–
				≤ (userint8)  
									; –±—É–
				¥–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —ñ–Ω—à—ñ –∑–∞–¥–∞—á—ñ 
				 
				; —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤ —Ü—é —Ç–æ—á–∫—É –±—É–
				¥–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –ø–æ –∫–æ–º–∞–Ω–¥—ñ RET –ø
				–æ –∑–∞–≤–µ—Ä—à–µ–Ω—ñ —Ñ–æ–Ω–æ–≤–æ—ó  
				; –∑–∞–¥–∞—á—ñ, –∞ —Ü–µ –º–æ–∂–ª–∏–≤–æ –ª–∏—à–µ
				 –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —ñ–Ω—à–∏—Ö –∑–
				∞–¥–∞—á 
				 
 0357  E8 003C R			call	retint8		; –≤—ñ–¥–Ω–æ–≤–
				ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –≤–µ–∫—Ç–æ—Ä—ñ–≤  
 035A  E8 008F R		      	call	retint9 
 035D  FB				sti 
 035E  B8 4C00			      	mov	ax,4c00h 
 0361  CD 21			     	int	21h 
 0363				_TEXT	ENDS 
					end	begin 
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Symbols-1




                N a m e         	Size	Length	 Align	Combine Class

_DATA  . . . . . . . . . . . . .  	16 Bit	009F	WORD	PUBLIC	'DATA'
_ST  . . . . . . . . . . . . . .  	16 Bit	FAC8	WORD	STACK	'STACK'
_TEXT  . . . . . . . . . . . . .  	16 Bit	0363	BYTE	PUBLIC	'CODE'

Symbols:            

                N a m e         	Type	 Value	 Attr

ABSENT . . . . . . . . . . . . .  	NUMBER	0010	

B10  . . . . . . . . . . . . . .  	L NEAR	0317	_TEXT
BEGIN  . . . . . . . . . . . . .  	L NEAR	02FC	_TEXT

CLK  . . . . . . . . . . . . . .  	L WORD	009C	_DATA
CLOCK  . . . . . . . . . . . . .  	L BYTE	003C	_DATA	Length = 0010
CLOCKT . . . . . . . . . . . . .  	L BYTE	004C	_DATA	Length = 0010
CLOSE  . . . . . . . . . . . . .  	NUMBER	0004	

DISP005  . . . . . . . . . . . .  	L NEAR	0187	_TEXT
DISP010  . . . . . . . . . . . .  	L NEAR	0197	_TEXT
DISP015  . . . . . . . . . . . .  	L NEAR	01B0	_TEXT
DISP018  . . . . . . . . . . . .  	L NEAR	01C3	_TEXT
DISP020  . . . . . . . . . . . .  	L NEAR	01E9	_TEXT
DISP100  . . . . . . . . . . . .  	L NEAR	0206	_TEXT

ESC_KEY  . . . . . . . . . . . .  	NUMBER	0001	
EXECUTE  . . . . . . . . . . . .  	NUMBER	0001	

FON  . . . . . . . . . . . . . .  	ALIAS	 MAX_PRG		
FONSP  . . . . . . . . . . . . .  	L WORD	0006	_DATA

HESITATION . . . . . . . . . . .  	NUMBER	0002	

INIT . . . . . . . . . . . . . .  	L BYTE	002C	_DATA	Length = 0010
INT8PTR  . . . . . . . . . . . .  	L WORD	0038	_TEXT	Length = 0002
INT8SET  . . . . . . . . . . . .  	L BYTE	0004	_DATA
INT9PTR  . . . . . . . . . . . .  	L WORD	008B	_TEXT	Length = 0002
INT9SET  . . . . . . . . . . . .  	L BYTE	0005	_DATA
ITER . . . . . . . . . . . . . .  	L BYTE	009E	_DATA

L20  . . . . . . . . . . . . . .  	L NEAR	029A	_TEXT
L40  . . . . . . . . . . . . . .  	L NEAR	02A1	_TEXT
L60  . . . . . . . . . . . . . .  	L NEAR	02AC	_TEXT
LS100  . . . . . . . . . . . . .  	L NEAR	02EE	_TEXT
LS20 . . . . . . . . . . . . . .  	L NEAR	02D7	_TEXT
LS40 . . . . . . . . . . . . . .  	L NEAR	02E2	_TEXT

MAX_PRG  . . . . . . . . . . . .  	NUMBER	000A	

NAMES  . . . . . . . . . . . . .  	L WORD	007C	_DATA
Microsoft (R) Macro Assembler Version 5.00                  5/20/16 09:59:00
                                                             Symbols-2


NPRG . . . . . . . . . . . . . .  	L WORD	002A	_DATA

READY  . . . . . . . . . . . . .  	NUMBER	0000	
RETINT8  . . . . . . . . . . . .  	N PROC	003C	_TEXT	Length = 0023
RETINT9  . . . . . . . . . . . .  	N PROC	008F	_TEXT	Length = 001A

SCREEN_ADDR  . . . . . . . . . .  	L WORD	005C	_DATA	Length = 0010
SETINT8  . . . . . . . . . . . .  	N PROC	0000	_TEXT	Length = 003C
SETINT9  . . . . . . . . . . . .  	N PROC	005F	_TEXT	Length = 0030
SHOW . . . . . . . . . . . . . .  	N PROC	02CC	_TEXT	Length = 0030
SPACE_KEY  . . . . . . . . . . .  	NUMBER	0039	
SSSP . . . . . . . . . . . . . .  	L DWORD	0006	_DATA
STOP . . . . . . . . . . . . . .  	NUMBER	0008	
STP  . . . . . . . . . . . . . .  	L WORD	000A	_DATA

TIME_SLICE . . . . . . . . . . .  	NUMBER	1000	
TOP  . . . . . . . . . . . . . .  	L WORD	FA00	_ST
T_BEGIN  . . . . . . . . . . . .  	L NEAR	00D7	_TEXT
T_END  . . . . . . . . . . . . .  	L NEAR	010A	_TEXT

UI9010 . . . . . . . . . . . . .  	L NEAR	0112	_TEXT
UI9020 . . . . . . . . . . . . .  	L NEAR	012E	_TEXT
UI9040 . . . . . . . . . . . . .  	L NEAR	0148	_TEXT
UI_T1  . . . . . . . . . . . . .  	L NEAR	00F4	_TEXT
UI_T2  . . . . . . . . . . . . .  	L NEAR	00FC	_TEXT
UI_T3  . . . . . . . . . . . . .  	L NEAR	0101	_TEXT
USERINT8 . . . . . . . . . . . .  	F PROC	014C	_TEXT	Length = 0106
USERINT9 . . . . . . . . . . . .  	F PROC	00A9	_TEXT	Length = 00A3

VCOUNT . . . . . . . . . . . . .  	N PROC	0252	_TEXT	Length = 007A

ZERO_8 . . . . . . . . . . . . .  	L NEAR	0037	_TEXT
ZERO_9 . . . . . . . . . . . . .  	L NEAR	008A	_TEXT

@FILENAME  . . . . . . . . . . .  	TEXT  lab6		
@MS_DOS_BUSY . . . . . . . . . .  	L DWORD	0000	_DATA
_DEC . . . . . . . . . . . . . .  	L NEAR	0105	_TEXT


    662 Source  Lines
    662 Total   Lines
     69 Symbols

  50982 + 416410 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
